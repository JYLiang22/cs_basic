- [类图中矩形框](#类图中矩形框)
  - [抽象类、具体类](#抽象类具体类)
  - [接口](#接口)
- [类图中表示关系](#类图中表示关系)
  - [实现关系](#实现关系)
  - [泛化关系](#泛化关系)
  - [关联关系](#关联关系)
    - [聚合关系](#聚合关系)
    - [组合关系](#组合关系)
    - [依赖关系](#依赖关系)
  - [依赖的强弱关系](#依赖的强弱关系)
- [参考](#参考)


# 类图中矩形框


## 抽象类、具体类

抽象类和具体类在类图中用矩形框表示，矩形框分为三层：第一层是类名字，第二层是类的成员变量，第三层是类的方法。<br>
区别在于：抽象类的类名以及抽象方法的名字都用 ***斜体字*** 表示。<br>
成员变量以及方法前的访问修饰符用符号来表示：

- “+”表示 public
- “-”表示 private
- “#”表示 protected
- 不带符号表示 default

抽象类：<br>![Alt text](image/%E6%8A%BD%E8%B1%A1%E7%B1%BB.png)<br><br>

具体类：<br>![Alt text](image/%E5%85%B7%E4%BD%93%E7%B1%BB.png)<br>


## 接口

接口在类图中也是用矩形框表示，但是与类的表示法不同的是，接口在类图中的第一层顶端用构造型 <<<interface>>>表示，下面是接口的名字，第二层是方法。<br>

![Alt text](image/%E6%8E%A5%E5%8F%A3.png)<br>


# 类图中表示关系

一图胜千言：<br><br>![Alt text](image/%E5%85%B3%E7%B3%BB%E5%9B%BE%E8%A7%A3.png)<br>


## 实现关系

含义：类和接口的关系，表示类是接口所有特征和行为的实现。<br>
表示：空心三角形和虚线，空心三角形指向接口。<br>
举例：摩托车和小汽车实现了交通工具的 ride() 功能。<br>

![Alt text](image/%E5%AE%9E%E7%8E%B0%E5%85%B3%E7%B3%BB.png)<br>


## 泛化关系

含义：类的继承关系。<br>
表示：用空心三角和实线组成的箭头表示，从子类指向父类。<br>
举例：摩托车和小汽车都是交通工具。<br>

![Alt text](image/%E6%B3%9B%E5%8C%96%E5%85%B3%E7%B3%BB.png)<br>


## 关联关系

含义：是指对象和对象之间的连接，它使一个对象知道另一个对象的属性和方法。<br>
代码表现形式：一个对象含有另一个对象的引用。也就是说，如果一个对象的类代码中，包含有另一个对象的引用，那么这两个对象之间就是关联关系。<br>

1. 双向关联：如果两个对象都知道（即可以调用）对方的公共属性和操作，那么二者就是双向关联。
2. 单向关联：如果只有一个对象知道（即可以调用）另一个对象的公共属性和操作，那么就是单向关联。

表示：双向关联关系用带双箭头的实线或者无箭头的实线双线表示，单向关联用一个带箭头的实线表示，箭头指向被关联的对象。<br>
举例：企鹅需要‘知道’气候的变化，需要‘了解’气候规律，才能进行每年长途跋涉。<br>

![Alt text](image/%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB.png)<br>


### 聚合关系

含义：体现的是 **整体与部分的拥有关系**，是一种 **弱的‘拥有’关系**。此时整体与部分之间是可分离的，它们可以 **具有各自的生命周期**，部分可以属于多个整体对象，也可以为多个整体对象共享，所以聚合关系也常称为 **共享关系**。<br>
表示： **空心菱形** 加实线箭头表示，空心菱形在整体一方，箭头指向部分一方。<br>
举例：大雁与雁群这两个类，大雁是群居动物，每只大雁都是属于一个雁群，一个雁群可以有多只大雁。<br>

![Alt text](image/%E8%81%9A%E5%90%88%E5%85%B3%E7%B3%BB.png)<br>


### 组合关系

含义：是一种 **强的‘拥有’关系**，体现了严格的部分和整体的关系， **部分和整体的生命周期一样**，部分离开整体后不可以存在。<br>
表示： **实心的菱形** +实线箭头来表示。<br>
举例：合成关系的连线两端还有一个数字‘1’和数字‘2’，这被称为 **基数**。表明这一端的类可以有几个实例，很显然，一个鸟应该有两只翅膀。如果一个类可能有无数个实例，则就用‘n’来表示。关联关系、聚合关系也可以有基数的。<br>

![Alt text](image/%E7%BB%84%E5%90%88%E5%85%B3%E7%B3%BB.png)<br>


### 依赖关系

含义：是一种弱关联关系，即一个类的实现需要另一个类的协助。<br>
代码具体表现形式：

1. 方法中的局部变量
2. 方法或构造器的参数
3. 法的返回值
4. A调用B的静态方法

```java
//代码清单1 B.java
public class B {
  public String field1;   //成员变量

  public void method1() {
    System.println("在类B的方法1中");
  }

  public static void method2() {                 //静态方法
    System.out.println("在类B的静态方法2中");
  }
}

/* 代码清单2 A.java
  A依赖于B
*/

public class A {
  public void method1() {
    //A依赖于B的第一种表现形式：B为A的局部变量
    B b = new B();
    b.method1();
  }

  public void method2() {
    //A依赖于B的第二种表现形式： 调用B的静态方法
    B.method2();
  }

  public void method3(B b)  {
    //A依赖于B的第三种表现形式：B作为A的方法参数
    String s = b.field1;
  }

  //A依赖于B的第四种表现形式：B作为A的方法的返回值
  public B method4() {
    return new B();
  }
}
```

表示：用一个带虚线的箭头表示，由使用方指向被使用方。<br>
举例：动物几大特征，比如有新陈代谢，能繁殖。而动物要有生命力，需要氧气、水以及食物等。也就是说，动物依赖于氧气和水。他们之间是依赖关系。<br>

![Alt text](image/%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB.png)<br>


## 依赖的强弱关系

泛化 = 实现 > 组合 > 聚合 > 关联 > 依赖


# 参考

1. https://zhuanlan.zhihu.com/p/109655171
2. https://fengjungle.blog.csdn.net/article/details/102576624
3. 大话设计模式
