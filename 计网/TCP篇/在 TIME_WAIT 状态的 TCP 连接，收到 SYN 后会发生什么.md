# 问题描述
在 TCP 正常挥手过程中，处于 TIME_WAIT 状态的连接，收到相同四元组的 SYN 后会发生什么？


# 结论
直接看结论吧，源码就跳过了！<br>
关于SYN考虑三个东西：四元组、序列号和时间戳。<br>
先认识合法SYN：
1. 合法SYN：客户端的序列号比服务端期望下一个收到的序列号要大，并且SYN的时间戳要比最后收到的报文的时间戳要大
2. 非法syn：要小或者要小


## 收到合法SYN
重用四元组连接，跳过2MSL转变为SYN_RECV状态


## 收到非法SYN
接收方回复第四次挥手的ACK报文，客户端收到后，发现不是自己期望的ack number，回复RST报文给服务端。