- [TCP 三次握手的性能提升](#tcp-三次握手的性能提升)
  - [客户端优化](#客户端优化)
  - [服务端优化](#服务端优化)
  - [绕过三次握手](#绕过三次握手)
- [TCP 四次挥手的性能提升](#tcp-四次挥手的性能提升)
- [TCP 传输数据的性能提升](#tcp-传输数据的性能提升)


# TCP 三次握手的性能提升


## 客户端优化
根据网络稳定性和服务器的繁忙程度修改客户端SYN重传次数。


## 服务端优化
首先了解下什么是SYN攻击：
1. 客户端给服务端发送SYN包且服务端收到时，会回复SYN+ACK并出于SYN_RCV状态
2. 在这个状态下服务端会维护一个半连接队列(SYN队列)来维护未完成的信息
3. 当半连接队列溢出后，服务端就无法就建立新的连接
4. SYN攻击攻击的就是这个半连接队列，使得其溢出后服务端无法建立新连接而导致服务瘫痪

三个方面：
1. 调整SYN队列长度
2. 调整SYN+ACK报文重传次数
3. 调整accept队列长度


## 绕过三次握手
通过TCP Fast Open使得HTTP请求减少为1个RTT的时间


# TCP 四次挥手的性能提升


# TCP 传输数据的性能提升